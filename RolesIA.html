<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualización de Roles de IA</title>
    <style>
        /* --- Estilos Generales --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8f9fa;
            color: #343a40;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
        }

        h1 {
            color: #212529;
            margin-top: 20px;
            margin-bottom: 10px;
            font-weight: 600;
            text-align: center;
            padding: 0 15px;
        }

        /* --- Contenedor de la Visualización --- */
        #cluster-container {
            width: 95vw;
            height: 80vh;
            max-width: 1200px;
            max-height: 750px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background-color: #ffffff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            position: relative;
        }

        svg {
            width: 100%;
            height: 100%;
        }

        /* --- Estilos de Nodos y Enlaces --- */
        .link {
            stroke: #adb5bd;
            stroke-opacity: 0.6;
        }

        .node {
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }

        .node circle {
            stroke: #fff;
            stroke-width: 2px;
            transition: r 0.2s ease, filter 0.2s ease;
        }
        
        .node:not(.central-node):hover circle {
            filter: brightness(1.1);
            r: 18; /* Aumenta el radio al pasar el cursor */
        }

        .node text {
            font-size: 11px;
            font-weight: 500;
            fill: #343a40;
            pointer-events: none; /* Para que el texto no interfiera con el clic en el círculo */
            text-anchor: middle;
            dy: 26px; /* Desplazamiento vertical del texto */
        }
        
        .central-node {
            cursor: default;
        }

        /* --- Tabla de Referencias/Leyenda --- */
        #legend {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 12px;
            z-index: 10;
        }
        #legend h4 {
            margin-top: 0;
            margin-bottom: 8px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            font-weight: 600;
        }
        #legend div {
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        #legend div:last-child {
            margin-bottom: 0;
        }
        .dot {
            height: 12px;
            width: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            border: 1px solid rgba(0,0,0,0.1);
        }
        .dot.standard { background-color: #28a745; }
        .dot.must-have { background-color: #fd7e14; }
        .dot.emerging { background-color: #17a2b8; }


        /* --- Ventana Modal --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .modal-content {
            background-color: #fff;
            margin: auto;
            padding: 25px 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: scale(1);
        }

        .close-button {
            color: #aaa;
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close-button:hover,
        .close-button:focus {
            color: #000;
        }

        .modal-content h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .modal-content h3 {
            color: #495057;
            font-size: 16px;
            margin-top: 20px;
            margin-bottom: 5px;
        }

        .modal-content p {
            line-height: 1.6;
            color: #495057;
            margin-top: 0;
        }

        /* --- Pie de página y Fuente --- */
        footer {
            margin-top: 15px;
            font-size: 12px;
            color: #6c757d;
        }

        footer a {
            color: #007bff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <h1>Visualización Interactiva de Roles de IA</h1>

    <div id="cluster-container">
         <div id="legend">
            <h4>Referencias</h4>
            <div><span class="dot standard"></span> Roles Estándar</div>
            <div><span class="dot must-have"></span> Roles Imprescindibles</div>
            <div><span class="dot emerging"></span> Roles Emergentes</div>
        </div>
    </div>

    <footer>
        Fuente: <a href="https://www.gartner.com/en/newsroom/press-releases/2024-05-14-artificial-intelligence-is-creating-new-roles-and-skills-in-data-and-analytics" target="_blank" rel="noopener noreferrer">Gartner Newsroom</a>
    </footer>

    <!-- Ventana Modal para Definiciones -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modal-title"></h2>
            <h3>Definición</h3>
            <p id="modal-definition"></p>
            <h3>Ejemplo Práctico</h3>
            <p id="modal-example"></p>
        </div>
    </div>

    <!-- Librería D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <script>
        // --- 1. DATOS DE LOS ROLES ---
        const rolesData = {
            nodes: [
                // Roles Estándar (Verde)
                { id: "Gestor de Modelos", group: "standard", definition: "Supervisa el ciclo de vida de los modelos de IA, desde el despliegue hasta el monitoreo y la retirada, asegurando su rendimiento y relevancia.", example: "Un Gestor de Modelos en un banco utiliza una plataforma para rastrear el rendimiento de un modelo de riesgo de crédito, decidiendo cuándo debe ser reentrenado con nuevos datos." },
                { id: "Ingeniero de Analítica", group: "standard", definition: "Crea y mantiene pipelines de datos robustos y transformaciones de datos limpias, sirviendo como puente entre los ingenieros de datos y los analistas.", example: "Un Ingeniero de Analítica en una empresa de e-commerce construye tablas de datos agregadas y fiables para que el equipo de marketing pueda analizar el comportamiento del cliente fácilmente." },
                { id: "Arquitecto de IA", group: "standard", definition: "Diseña la infraestructura y los sistemas generales para soportar las iniciativas de IA de una organización, seleccionando las tecnologías y plataformas adecuadas.", example: "Un Arquitecto de IA define la arquitectura en la nube (AWS, Azure, GCP) que permitirá a los equipos de ciencia de datos entrenar y desplegar modelos a gran escala de forma segura." },
                { id: "Especialista en Riesgo y Gobernanza de IA", group: "standard", definition: "Se especializa en identificar, evaluar y mitigar los riesgos asociados con la IA, incluyendo sesgos, privacidad y cumplimiento normativo.", example: "Este especialista revisa un nuevo sistema de reconocimiento facial para asegurar que cumple con las leyes de protección de datos y no discrimina a ciertos grupos demográficos." },
                { id: "Jefe de Producto de IA", group: "standard", definition: "Define la visión, estrategia y hoja de ruta para productos basados en IA, traduciendo las necesidades del negocio en requisitos técnicos para el equipo de desarrollo.", example: "Un Jefe de Producto de IA decide las nuevas funcionalidades para un asistente virtual, como la capacidad de entender el sarcasmo, basándose en la investigación de usuarios y los objetivos de la empresa." },
                { id: "Diseñador de UX para IA", group: "standard", definition: "Diseña la interacción entre los humanos y los sistemas de IA, asegurando que la experiencia del usuario sea intuitiva, transparente y genere confianza.", example: "Un diseñador UX crea la interfaz de una herramienta de IA que sugiere textos, mostrando claramente por qué se hacen ciertas sugerencias y permitiendo al usuario aceptar o rechazarlas fácilmente." },
                { id: "Desarrollador de IA", group: "standard", definition: "Construye, prueba y despliega aplicaciones y sistemas de IA, implementando los modelos creados por los científicos de datos en productos funcionales.", example: "Un Desarrollador de IA integra un modelo de lenguaje en una aplicación de chatbot, escribiendo el código que gestiona las conversaciones con los usuarios." },
                
                // Roles Imprescindibles (Naranja)
                { id: "Ingeniero de ML", group: "must-have", definition: "Se enfoca en la operacionalización de modelos de machine learning, construyendo sistemas escalables para el entrenamiento, despliegue y monitoreo (MLOps).", example: "Un Ingeniero de ML crea un pipeline automatizado que reentrena un modelo de recomendación de productos cada noche y lo despliega sin intervención manual." },
                { id: "Ingeniero de Datos", group: "must-have", definition: "Diseña, construye y mantiene la infraestructura de datos (pipelines, bases de datos, data warehouses) que permite la recopilación, almacenamiento y acceso a grandes volúmenes de datos.", example: "Un Ingeniero de Datos implementa un sistema que procesa en tiempo real los clics de los usuarios en un sitio web y los almacena en un data lake para su posterior análisis." },
                { id: "Director de IA", group: "must-have", definition: "Lidera la estrategia y la visión de la inteligencia artificial en toda la organización, alineando las iniciativas de IA con los objetivos de negocio y gestionando los equipos.", example: "El Director de IA presenta al comité directivo un plan para invertir en IA generativa con el fin de automatizar el soporte al cliente y mejorar la eficiencia." },
                { id: "Científico de Datos", group: "must-have", definition: "Utiliza métodos estadísticos y de machine learning para analizar datos complejos, descubrir insights y construir modelos predictivos que resuelvan problemas de negocio.", example: "Un Científico de Datos analiza datos de ventas para construir un modelo que predice la demanda de productos para las próximas semanas, optimizando el inventario." },
                { id: "Ingeniero de Prompts", group: "must-have", definition: "Se especializa en diseñar, refinar y optimizar las instrucciones (prompts) dadas a los modelos de IA generativa para obtener los resultados deseados de alta calidad.", example: "Un Ingeniero de Prompts crea una plantilla de prompt detallada para que un modelo de lenguaje genere descripciones de productos que sean persuasivas y sigan el tono de la marca." },
                { id: "Traductor de D&A e IA", group: "must-have", definition: "Actúa como un puente entre los equipos técnicos (datos, IA) y las áreas de negocio, traduciendo las necesidades del negocio en problemas técnicos y los resultados técnicos en valor de negocio.", example: "Un traductor de IA explica al equipo de marketing cómo un modelo de segmentación de clientes puede ayudarles a personalizar sus campañas, sin entrar en detalles técnicos complejos." },
                { id: "Ético de IA", group: "must-have", definition: "Guía el desarrollo y uso responsable de la IA, asegurando que los sistemas sean justos, transparentes, seguros y alineados con los valores humanos y sociales.", example: "Un Ético de IA establece un marco de evaluación para un sistema de contratación automatizado, con el fin de detectar y corregir cualquier sesgo de género o racial." },

                // Roles Emergentes (Celeste)
                { id: "Validador de Modelos", group: "emerging", definition: "Evalúa de forma independiente la calidad, el rendimiento y la robustez de los modelos de IA, a menudo en contextos regulados como el financiero.", example: "Un Validador de Modelos en un banco realiza pruebas de estrés a un modelo de trading algorítmico para asegurar que no tomará decisiones catastróficas en condiciones de mercado volátiles." },
                { id: "Ingeniero de Conocimiento", group: "emerging", definition: "Estructura y organiza el conocimiento de un dominio específico en un formato que una máquina pueda entender y utilizar, creando ontologías y bases de conocimiento.", example: "Un Ingeniero de Conocimiento trabaja con expertos médicos para construir una base de conocimiento que un sistema de IA utilizará para diagnosticar enfermedades raras." },
                { id: "Ingeniero de Decisiones", group: "emerging", definition: "Aplica principios de la ciencia de la decisión, la economía del comportamiento y la IA para diseñar sistemas que ayuden a los humanos a tomar mejores decisiones.", example: "Un Ingeniero de Decisiones diseña un dashboard para gerentes de logística que no solo muestra datos, sino que también recomienda rutas óptimas y resalta los riesgos potenciales de cada opción." }
            ],
            links: []
        };

        // Crear un nodo central visible
        const centralNodeId = "Roles IA";
        rolesData.nodes.push({ id: centralNodeId, group: "central", isCentral: true });

        // Conectar todos los roles al nodo central
        rolesData.nodes.forEach(node => {
            if (node.id !== centralNodeId) {
                rolesData.links.push({
                    source: node.id,
                    target: centralNodeId,
                    strength: node.group === 'must-have' ? 0.7 : 0.15 
                });
            }
        });


        // --- 2. CONFIGURACIÓN DE LA VISUALIZACIÓN D3 ---
        const container = document.getElementById('cluster-container');
        const width = container.clientWidth;
        const height = container.clientHeight;

        const svg = d3.select("#cluster-container").append("svg")
            .attr("viewBox", [0, 0, width, height]);

        const g = svg.append("g");

        // Paleta de colores actualizada para mejor distinción
        const color = d3.scaleOrdinal()
            .domain(["standard", "must-have", "emerging", "central"])
            .range(["#28a745", "#fd7e14", "#17a2b8", "#343a40"]); // Verde, Naranja, Celeste, Gris Oscuro (Central)

        // --- 3. SIMULACIÓN DE FUERZAS ---
        const simulation = d3.forceSimulation(rolesData.nodes)
            .force("link", d3.forceLink(rolesData.links).id(d => d.id).strength(d => d.strength))
            .force("charge", d3.forceManyBody().strength(-300)) // Aumentar repulsión
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("collide", d3.forceCollide().radius(d => d.isCentral ? 60 : 50)); // Evita solapamiento

        // --- 4. DIBUJAR ELEMENTOS ---
        const link = g.append("g")
            .attr("class", "links")
            .selectAll("line")
            .data(rolesData.links)
            .enter().append("line")
            .attr("class", "link");

        const node = g.append("g")
            .attr("class", "nodes")
            .selectAll(".node")
            .data(rolesData.nodes)
            .enter().append("g")
            .attr("class", d => d.isCentral ? "node central-node" : "node");

        node.append("circle")
            .attr("r", d => d.isCentral ? 35 : 15) // Hacer el nodo central más grande
            .attr("fill", d => color(d.group));

        node.append("text")
            .text(d => d.id)
            .style("font-size", d => d.isCentral ? "14px" : "11px")
            .style("font-weight", d => d.isCentral ? "bold" : "500")
            .style("fill", d => d.isCentral ? "#fff" : "#343a40")
            .attr("dy", d => d.isCentral ? 5 : 26);
            

        // --- 5. INTERACTIVIDAD ---

        // Arrastrar nodos (excepto el central)
        const drag = d3.drag()
            .on("start", dragstarted)
            .on("drag", dragged)
            .on("end", dragended);

        node.filter(d => !d.isCentral).call(drag);

        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }

        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }

        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }

        // Zoom
        const zoom = d3.zoom()
            .scaleExtent([0.3, 5])
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            });

        svg.call(zoom);

        // Modal al hacer clic (excepto en el nodo central)
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalDefinition = document.getElementById('modal-definition');
        const modalExample = document.getElementById('modal-example');
        const closeButton = document.querySelector('.close-button');

        node.filter(d => !d.isCentral).on("click", (event, d) => {
            modalTitle.textContent = d.id;
            modalDefinition.textContent = d.definition;
            modalExample.textContent = d.example;
            modal.classList.add('show');
        });

        function closeModal() {
            modal.classList.remove('show');
        }

        closeButton.onclick = closeModal;
        modal.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        };

        // --- 6. ACTUALIZACIÓN DE LA SIMULACIÓN (TICK) ---
        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);

            node
                .attr("transform", d => `translate(${d.x},${d.y})`);
        });

    </script>

</body>
</html>
